<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 The Quest for Causality | R Companion to Real Econometrics</title>
  <meta name="description" content="R, RStudio IDE, and the tidyverse companion to Bailey’s Real Econometrics" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 The Quest for Causality | R Companion to Real Econometrics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="R, RStudio IDE, and the tidyverse companion to Bailey’s Real Econometrics" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 The Quest for Causality | R Companion to Real Econometrics" />
  
  <meta name="twitter:description" content="R, RStudio IDE, and the tidyverse companion to Bailey’s Real Econometrics" />
  

<meta name="author" content="Tony Carilli" />


<meta name="date" content="2020-08-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="chp2.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.15/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Companion to *Real Econometrics*</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> Install R and RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#using-rstudio"><i class="fa fa-check"></i><b>2.2</b> Using RStudio</a><ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#source-pane"><i class="fa fa-check"></i><b>2.2.1</b> Source Pane</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#environmenthistory-pane"><i class="fa fa-check"></i><b>2.2.2</b> Environment/History Pane</a></li>
<li class="chapter" data-level="2.2.3" data-path="intro.html"><a href="intro.html#console-pane"><i class="fa fa-check"></i><b>2.2.3</b> Console Pane</a></li>
<li class="chapter" data-level="2.2.4" data-path="intro.html"><a href="intro.html#filesplotspackageshelp-pane"><i class="fa fa-check"></i><b>2.2.4</b> Files/Plots/Packages/Help Pane</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#r-markdown"><i class="fa fa-check"></i><b>2.3</b> R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chp1.html"><a href="chp1.html"><i class="fa fa-check"></i><b>3</b> The Quest for Causality</a><ul>
<li class="chapter" data-level="3.1" data-path="chp1.html"><a href="chp1.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a><ul>
<li class="chapter" data-level="3.1.1" data-path="chp1.html"><a href="chp1.html#table-1.1"><i class="fa fa-check"></i><b>3.1.1</b> Table 1.1</a></li>
<li class="chapter" data-level="3.1.2" data-path="chp1.html"><a href="chp1.html#figure-1.2"><i class="fa fa-check"></i><b>3.1.2</b> Figure 1.2</a></li>
<li class="chapter" data-level="3.1.3" data-path="chp1.html"><a href="chp1.html#figure-1.3"><i class="fa fa-check"></i><b>3.1.3</b> Figure 1.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chp2.html"><a href="chp2.html"><i class="fa fa-check"></i><b>4</b> Stats in the Wild: Good Data Practices</a><ul>
<li class="chapter" data-level="4.1" data-path="chp1.html"><a href="chp1.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="chp2.html"><a href="chp2.html#table-and-figure-reproduction"><i class="fa fa-check"></i><b>4.2</b> Table and Figure Reproduction</a><ul>
<li class="chapter" data-level="4.2.1" data-path="chp2.html"><a href="chp2.html#table-2.1"><i class="fa fa-check"></i><b>4.2.1</b> Table 2.1</a></li>
<li class="chapter" data-level="4.2.2" data-path="chp2.html"><a href="chp2.html#table-2.2"><i class="fa fa-check"></i><b>4.2.2</b> Table 2.2</a></li>
<li class="chapter" data-level="4.2.3" data-path="chp2.html"><a href="chp2.html#table-2.5"><i class="fa fa-check"></i><b>4.2.3</b> Table 2.5</a></li>
<li class="chapter" data-level="4.2.4" data-path="chp2.html"><a href="chp2.html#figure-2.3"><i class="fa fa-check"></i><b>4.2.4</b> Figure 2.3</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chp2.html"><a href="chp2.html#computing-center"><i class="fa fa-check"></i><b>4.3</b> Computing Center</a><ul>
<li class="chapter" data-level="4.3.1" data-path="chp2.html"><a href="chp2.html#reading-data"><i class="fa fa-check"></i><b>4.3.1</b> Reading Data</a></li>
<li class="chapter" data-level="4.3.2" data-path="chp2.html"><a href="chp2.html#manually-entering-data"><i class="fa fa-check"></i><b>4.3.2</b> Manually Entering Data</a></li>
<li class="chapter" data-level="4.3.3" data-path="chp2.html"><a href="chp2.html#simple-statistics"><i class="fa fa-check"></i><b>4.3.3</b> Simple Statistics</a></li>
<li class="chapter" data-level="4.3.4" data-path="chp2.html"><a href="chp2.html#subsetting"><i class="fa fa-check"></i><b>4.3.4</b> Subsetting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cph3.html"><a href="cph3.html"><i class="fa fa-check"></i><b>5</b> Bivariate OLS: The Foundation of Econometric Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="cph3.html"><a href="cph3.html#estimating-a-simple-regression"><i class="fa fa-check"></i><b>5.1</b> Estimating a simple regression</a></li>
<li class="chapter" data-level="5.2" data-path="cph3.html"><a href="cph3.html#scatter-plot-with-regression-line"><i class="fa fa-check"></i><b>5.2</b> scatter Plot with Regression Line</a></li>
<li class="chapter" data-level="5.3" data-path="cph3.html"><a href="cph3.html#subsetting-data-for-regressions"><i class="fa fa-check"></i><b>5.3</b> Subsetting Data for Regressions</a></li>
<li class="chapter" data-level="5.4" data-path="cph3.html"><a href="cph3.html#heteroscesdasticity-consistent-standard-errors."><i class="fa fa-check"></i><b>5.4</b> Heteroscesdasticity-consistent standard errors.</a></li>
<li class="chapter" data-level="5.5" data-path="cph3.html"><a href="cph3.html#generating-random-numbers"><i class="fa fa-check"></i><b>5.5</b> Generating Random Numbers</a></li>
<li class="chapter" data-level="5.6" data-path="cph3.html"><a href="cph3.html#simulations"><i class="fa fa-check"></i><b>5.6</b> Simulations</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chp4.html"><a href="chp4.html"><i class="fa fa-check"></i><b>6</b> Hypothesis Testing and Interval Estimation; Answering Research Questions</a><ul>
<li class="chapter" data-level="6.1" data-path="chp4.html"><a href="chp4.html#computing-corner"><i class="fa fa-check"></i><b>6.1</b> Computing Corner</a><ul>
<li class="chapter" data-level="6.1.1" data-path="chp4.html"><a href="chp4.html#probability-distributions-in-r"><i class="fa fa-check"></i><b>6.1.1</b> Probability Distributions in R</a></li>
<li class="chapter" data-level="6.1.2" data-path="chp4.html"><a href="chp4.html#critical-values-in-r"><i class="fa fa-check"></i><b>6.1.2</b> Critical Values in R</a></li>
<li class="chapter" data-level="6.1.3" data-path="chp4.html"><a href="chp4.html#confidence-intervals-for-ols-estimates"><i class="fa fa-check"></i><b>6.1.3</b> Confidence Intervals for OLS estimates</a></li>
<li class="chapter" data-level="6.1.4" data-path="chp4.html"><a href="chp4.html#power-curves"><i class="fa fa-check"></i><b>6.1.4</b> Power Curves</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chp5.html"><a href="chp5.html"><i class="fa fa-check"></i><b>7</b> Multivariate OLS: Where the Action Is</a><ul>
<li class="chapter" data-level="7.1" data-path="chp4.html"><a href="chp4.html#computing-corner"><i class="fa fa-check"></i><b>7.1</b> Computing Corner</a><ul>
<li class="chapter" data-level="7.1.1" data-path="chp5.html"><a href="chp5.html#multiple-regression"><i class="fa fa-check"></i><b>7.1.1</b> Multiple Regression</a></li>
<li class="chapter" data-level="7.1.2" data-path="chp5.html"><a href="chp5.html#multicollinearity"><i class="fa fa-check"></i><b>7.1.2</b> Multicollinearity</a></li>
<li class="chapter" data-level="7.1.3" data-path="chp5.html"><a href="chp5.html#standardized-coefficients"><i class="fa fa-check"></i><b>7.1.3</b> Standardized Coefficients</a></li>
<li class="chapter" data-level="7.1.4" data-path="chp5.html"><a href="chp5.html#f-tests"><i class="fa fa-check"></i><b>7.1.4</b> <em>F</em> tests</a></li>
<li class="chapter" data-level="7.1.5" data-path="chp5.html"><a href="chp5.html#examples"><i class="fa fa-check"></i><b>7.1.5</b> Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chp6.html"><a href="chp6.html"><i class="fa fa-check"></i><b>8</b> Dummy Variables: Smarter than You Think</a><ul>
<li class="chapter" data-level="8.1" data-path="chp6.html"><a href="chp6.html#dummy-variables-in-r"><i class="fa fa-check"></i><b>8.1</b> Dummy Variables in R</a><ul>
<li class="chapter" data-level="8.1.1" data-path="chp6.html"><a href="chp6.html#factors"><i class="fa fa-check"></i><b>8.1.1</b> Factors</a></li>
<li class="chapter" data-level="8.1.2" data-path="chp6.html"><a href="chp6.html#character-vectors-as-dummies"><i class="fa fa-check"></i><b>8.1.2</b> Character Vectors as Dummies</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="chp6.html"><a href="chp6.html#difference-in-means-test"><i class="fa fa-check"></i><b>8.2</b> Difference in Means Test</a><ul>
<li class="chapter" data-level="8.2.1" data-path="chp6.html"><a href="chp6.html#using-t.test"><i class="fa fa-check"></i><b>8.2.1</b> Using <code>t.test</code></a></li>
<li class="chapter" data-level="8.2.2" data-path="chp6.html"><a href="chp6.html#using-lm-and-lm_robust"><i class="fa fa-check"></i><b>8.2.2</b> Using <code>lm</code> and <code>lm_robust</code></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="chp6.html"><a href="chp6.html#integer-and-numerical-vectors-as-dummy-variables"><i class="fa fa-check"></i><b>8.3</b> Integer and Numerical Vectors as Dummy Variables</a></li>
<li class="chapter" data-level="8.4" data-path="chp6.html"><a href="chp6.html#manipulating-factors"><i class="fa fa-check"></i><b>8.4</b> Manipulating Factors</a></li>
<li class="chapter" data-level="8.5" data-path="chp6.html"><a href="chp6.html#dummy-interaction-variables"><i class="fa fa-check"></i><b>8.5</b> Dummy Interaction Variables</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chp7.html"><a href="chp7.html"><i class="fa fa-check"></i><b>9</b> Specifying Models</a><ul>
<li class="chapter" data-level="9.1" data-path="chp7.html"><a href="chp7.html#polynomial-models"><i class="fa fa-check"></i><b>9.1</b> Polynomial Models</a></li>
<li class="chapter" data-level="9.2" data-path="chp7.html"><a href="chp7.html#logarithmic"><i class="fa fa-check"></i><b>9.2</b> Logarithmic</a><ul>
<li class="chapter" data-level="9.2.1" data-path="chp7.html"><a href="chp7.html#constant-elasticity-log-log-or-double-log"><i class="fa fa-check"></i><b>9.2.1</b> Constant Elasticity (log-log or double log)</a></li>
<li class="chapter" data-level="9.2.2" data-path="chp7.html"><a href="chp7.html#constant-growth-in-a-dependent-variable-log-lin-or-semilog"><i class="fa fa-check"></i><b>9.2.2</b> Constant Growth in a Dependent Variable (log-lin or semilog)</a></li>
<li class="chapter" data-level="9.2.3" data-path="chp7.html"><a href="chp7.html#constant-change-in-dependent-variable-lin-log"><i class="fa fa-check"></i><b>9.2.3</b> Constant % Change in Dependent Variable (lin-log)</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="chp7.html"><a href="chp7.html#other-useful-functional-forms"><i class="fa fa-check"></i><b>9.3</b> Other Useful Functional Forms</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chp8.html"><a href="chp8.html"><i class="fa fa-check"></i><b>10</b> Using Fixed Effects Models to Fight Endogeneity in Panel Data and Difference–in–Difference Models</a><ul>
<li class="chapter" data-level="10.1" data-path="chp8.html"><a href="chp8.html#simpsons-paradox"><i class="fa fa-check"></i><b>10.1</b> Simpson’s Paradox</a></li>
<li class="chapter" data-level="10.2" data-path="chp8.html"><a href="chp8.html#figures-8.1-8.3"><i class="fa fa-check"></i><b>10.2</b> Figures 8.1-8.3</a></li>
<li class="chapter" data-level="10.3" data-path="chp8.html"><a href="chp8.html#one-way-fixed-effects-models"><i class="fa fa-check"></i><b>10.3</b> One-Way Fixed Effects Models</a><ul>
<li class="chapter" data-level="10.3.1" data-path="chp8.html"><a href="chp8.html#lsdv-approach"><i class="fa fa-check"></i><b>10.3.1</b> LSDV Approach</a></li>
<li class="chapter" data-level="10.3.2" data-path="chp8.html"><a href="chp8.html#f-test-for-significance-of-fixed-effects."><i class="fa fa-check"></i><b>10.3.2</b> <em>F</em>-test for significance of fixed effects.</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="chp8.html"><a href="chp8.html#de-meaned-approach"><i class="fa fa-check"></i><b>10.4</b> De-Meaned approach</a><ul>
<li class="chapter" data-level="10.4.1" data-path="chp8.html"><a href="chp8.html#manually-de-mean"><i class="fa fa-check"></i><b>10.4.1</b> Manually De-Mean</a></li>
<li class="chapter" data-level="10.4.2" data-path="chp8.html"><a href="chp8.html#using-the-plm-package"><i class="fa fa-check"></i><b>10.4.2</b> Using the <code>plm</code> package</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="chp8.html"><a href="chp8.html#two-way-fixed-effects-models"><i class="fa fa-check"></i><b>10.5</b> Two-Way Fixed Effects Models</a><ul>
<li class="chapter" data-level="10.5.1" data-path="chp8.html"><a href="chp8.html#time-as-a-factor"><i class="fa fa-check"></i><b>10.5.1</b> Time as a factor</a></li>
<li class="chapter" data-level="10.5.2" data-path="chp8.html"><a href="chp8.html#effect-twoways"><i class="fa fa-check"></i><b>10.5.2</b> effect = “twoways”</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="chp8.html"><a href="chp8.html#difference-in-difference-models"><i class="fa fa-check"></i><b>10.6</b> Difference-in-Difference Models</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chp9.html"><a href="chp9.html"><i class="fa fa-check"></i><b>11</b> Instrumental Variables: Using Exogenous Variation to Fight Endogeneity</a><ul>
<li class="chapter" data-level="11.1" data-path="chp9.html"><a href="chp9.html#stage-least-squares"><i class="fa fa-check"></i><b>11.1</b> 2 Stage Least Squares</a></li>
<li class="chapter" data-level="11.2" data-path="chp9.html"><a href="chp9.html#explanatory-power-of-the-instruments"><i class="fa fa-check"></i><b>11.2</b> Explanatory power of the instruments</a></li>
<li class="chapter" data-level="11.3" data-path="chp9.html"><a href="chp9.html#estimating-simultaneous-equation-model"><i class="fa fa-check"></i><b>11.3</b> Estimating Simultaneous Equation Model</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="chp10.html"><a href="chp10.html"><i class="fa fa-check"></i><b>12</b> Experiments: Dealing with Real–World Challenges</a><ul>
<li class="chapter" data-level="12.1" data-path="chp10.html"><a href="chp10.html#assess-balance"><i class="fa fa-check"></i><b>12.1</b> Assess Balance</a></li>
<li class="chapter" data-level="12.2" data-path="chp10.html"><a href="chp10.html#estimate-itt-model"><i class="fa fa-check"></i><b>12.2</b> Estimate ITT Model</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="chp11.html"><a href="chp11.html"><i class="fa fa-check"></i><b>13</b> Regression Discontinuity: Looking for Jumps in Data</a><ul>
<li class="chapter" data-level="13.1" data-path="chp11.html"><a href="chp11.html#same-slope"><i class="fa fa-check"></i><b>13.1</b> Same slope</a></li>
<li class="chapter" data-level="13.2" data-path="chp11.html"><a href="chp11.html#varying-slopes"><i class="fa fa-check"></i><b>13.2</b> Varying Slopes</a></li>
<li class="chapter" data-level="13.3" data-path="chp11.html"><a href="chp11.html#plot-rd-model"><i class="fa fa-check"></i><b>13.3</b> Plot RD Model</a></li>
<li class="chapter" data-level="13.4" data-path="chp11.html"><a href="chp11.html#rddtools-package"><i class="fa fa-check"></i><b>13.4</b> <code>rddtools</code> package</a><ul>
<li class="chapter" data-level="13.4.1" data-path="chp11.html"><a href="chp11.html#same-slope-1"><i class="fa fa-check"></i><b>13.4.1</b> Same slope</a></li>
<li class="chapter" data-level="13.4.2" data-path="chp11.html"><a href="chp11.html#varying-slopes-1"><i class="fa fa-check"></i><b>13.4.2</b> Varying Slopes</a></li>
<li class="chapter" data-level="13.4.3" data-path="chp11.html"><a href="chp11.html#scatter-plot"><i class="fa fa-check"></i><b>13.4.3</b> Scatter Plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="chp12.html"><a href="chp12.html"><i class="fa fa-check"></i><b>14</b> Dummy Dependent Variables</a><ul>
<li class="chapter" data-level="14.1" data-path="chp12.html"><a href="chp12.html#probit-estimation"><i class="fa fa-check"></i><b>14.1</b> Probit Estimation</a><ul>
<li class="chapter" data-level="14.1.1" data-path="chp12.html"><a href="chp12.html#eda"><i class="fa fa-check"></i><b>14.1.1</b> EDA</a></li>
<li class="chapter" data-level="14.1.2" data-path="chp12.html"><a href="chp12.html#estimate-the-model"><i class="fa fa-check"></i><b>14.1.2</b> Estimate the model</a></li>
<li class="chapter" data-level="14.1.3" data-path="chp12.html"><a href="chp12.html#estimated-effects"><i class="fa fa-check"></i><b>14.1.3</b> Estimated Effects</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="chp12.html"><a href="chp12.html#logit-estimation"><i class="fa fa-check"></i><b>14.2</b> Logit Estimation</a><ul>
<li class="chapter" data-level="14.2.1" data-path="chp12.html"><a href="chp12.html#discrete-differences"><i class="fa fa-check"></i><b>14.2.1</b> Discrete Differences</a></li>
<li class="chapter" data-level="14.2.2" data-path="chp12.html"><a href="chp12.html#marginal-effects-1"><i class="fa fa-check"></i><b>14.2.2</b> Marginal Effects</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="chp12.html"><a href="chp12.html#testing-hypotheses"><i class="fa fa-check"></i><b>14.3</b> Testing Hypotheses</a></li>
<li class="chapter" data-level="14.4" data-path="chp12.html"><a href="chp12.html#graphing-probit-and-logit-models"><i class="fa fa-check"></i><b>14.4</b> Graphing Probit and Logit Models</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="chp13.html"><a href="chp13.html"><i class="fa fa-check"></i><b>15</b> Time Series: Dealing with Stickiness over Time</a><ul>
<li class="chapter" data-level="15.1" data-path="chp13.html"><a href="chp13.html#time-series-objects-in-r"><i class="fa fa-check"></i><b>15.1</b> Time Series Objects in R</a></li>
<li class="chapter" data-level="15.2" data-path="chp13.html"><a href="chp13.html#detecting-autocorrelation"><i class="fa fa-check"></i><b>15.2</b> Detecting Autocorrelation</a></li>
<li class="chapter" data-level="15.3" data-path="chp13.html"><a href="chp13.html#correcting-autocorrelation"><i class="fa fa-check"></i><b>15.3</b> Correcting Autocorrelation</a><ul>
<li class="chapter" data-level="15.3.1" data-path="chp13.html"><a href="chp13.html#newey-west"><i class="fa fa-check"></i><b>15.3.1</b> Newey-West</a></li>
<li class="chapter" data-level="15.3.2" data-path="chp13.html"><a href="chp13.html#cochrane-orcutt"><i class="fa fa-check"></i><b>15.3.2</b> Cochrane-Orcutt</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="chp13.html"><a href="chp13.html#dynamic-models"><i class="fa fa-check"></i><b>15.4</b> Dynamic Models</a></li>
<li class="chapter" data-level="15.5" data-path="chp13.html"><a href="chp13.html#dickey-fuller-test"><i class="fa fa-check"></i><b>15.5</b> Dickey-Fuller Test</a></li>
<li class="chapter" data-level="15.6" data-path="chp13.html"><a href="chp13.html#first-differencing"><i class="fa fa-check"></i><b>15.6</b> First Differencing</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="chp14.html"><a href="chp14.html"><i class="fa fa-check"></i><b>16</b> Advanced OLS</a><ul>
<li class="chapter" data-level="16.1" data-path="chp14.html"><a href="chp14.html#derive-ols-estimator-matrix-form"><i class="fa fa-check"></i><b>16.1</b> Derive OLS estimator (Matrix Form)</a><ul>
<li class="chapter" data-level="16.1.1" data-path="chp14.html"><a href="chp14.html#example"><i class="fa fa-check"></i><b>16.1.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="chp14.html"><a href="chp14.html#gaussmarkov-theorem"><i class="fa fa-check"></i><b>16.2</b> Gauss–Markov Theorem</a><ul>
<li class="chapter" data-level="16.2.1" data-path="chp14.html"><a href="chp14.html#ols-estimator-is-linear"><i class="fa fa-check"></i><b>16.2.1</b> OLS estimator is linear</a></li>
<li class="chapter" data-level="16.2.2" data-path="chp14.html"><a href="chp14.html#ols-estimator-is-unbiased"><i class="fa fa-check"></i><b>16.2.2</b> OLS estimator is unbiased</a></li>
<li class="chapter" data-level="16.2.3" data-path="chp14.html"><a href="chp14.html#variance-covariance-is-a-minimum"><i class="fa fa-check"></i><b>16.2.3</b> Variance-Covariance is a minimum</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="chp4.html"><a href="chp4.html#probability-distributions-in-r"><i class="fa fa-check"></i><b>16.3</b> Probability Distributions in R</a><ul>
<li class="chapter" data-level="16.3.1" data-path="chp14.html"><a href="chp14.html#obtaining-critical-statistics"><i class="fa fa-check"></i><b>16.3.1</b> Obtaining Critical Statistics</a></li>
<li class="chapter" data-level="16.3.2" data-path="cph3.html"><a href="cph3.html#generating-random-numbers"><i class="fa fa-check"></i><b>16.3.2</b> Generating Random Numbers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="chp15.html"><a href="chp15.html"><i class="fa fa-check"></i><b>17</b> Advanced Panel Data</a><ul>
<li class="chapter" data-level="17.1" data-path="chp15.html"><a href="chp15.html#the-data"><i class="fa fa-check"></i><b>17.1</b> The Data</a></li>
<li class="chapter" data-level="17.2" data-path="chp15.html"><a href="chp15.html#variation-within-units"><i class="fa fa-check"></i><b>17.2</b> Variation within Units</a></li>
<li class="chapter" data-level="17.3" data-path="chp15.html"><a href="chp15.html#two-way-fixed-effects-model"><i class="fa fa-check"></i><b>17.3</b> Two-Way Fixed Effects Model</a></li>
<li class="chapter" data-level="17.4" data-path="chp15.html"><a href="chp15.html#testing-for-autocorrelation"><i class="fa fa-check"></i><b>17.4</b> Testing for autocorrelation</a></li>
<li class="chapter" data-level="17.5" data-path="chp15.html"><a href="chp15.html#estimating-hatrho"><i class="fa fa-check"></i><b>17.5</b> Estimating <span class="math inline">\(\hat\rho\)</span></a></li>
<li class="chapter" data-level="17.6" data-path="chp15.html"><a href="chp15.html#estimate-a-rho-transformed-model"><i class="fa fa-check"></i><b>17.6</b> Estimate a <span class="math inline">\(\rho\)</span>-Transformed Model</a></li>
<li class="chapter" data-level="17.7" data-path="chp15.html"><a href="chp15.html#lagged-dependent-variable-panel-data-model"><i class="fa fa-check"></i><b>17.7</b> Lagged Dependent Variable Panel Data Model</a></li>
<li class="chapter" data-level="17.8" data-path="chp15.html"><a href="chp15.html#random-effects-model"><i class="fa fa-check"></i><b>17.8</b> Random Effects Model</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Companion to <em>Real Econometrics</em></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chp1" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> The Quest for Causality</h1>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">3.1</span> Introduction</h2>
<p>In order to familiarize you with the R code necessary to complete the assignments in <em>Real Econometrics</em>, I will reproduce all examples from Chapter 1. As I present the examples, I will explain the syntax for each piece of code. You will also be introduced to using R Markdown to produce a seamless integration of your code, your output, and your reports.</p>
<p>In subsequent chapters, I will take you through examples of the relevant code necessary to complete the exercises in R.</p>
<div id="table-1.1" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Table 1.1</h3>
<p>Table 1.1 contains the necessary information to produce Figures 1.2 and 1.3. Creating Table 1.1 will give you an opportunity to create a data frame from four vectors. A data frame is used for storing data tables. A data frame is one of the many data structures in R. The others include vector, list, matrix, factors, and tables. A data frame is collection of vectors of the same length.</p>
<p>A vector is the most common and basic data structure in R. Vectors can be of two types: atomic vectors or lists. An atomic vector is a collection of observations of a single variable. The vectors in a data frame can be different types, however. Each vector must be of a single type. The atomic vector types or classes in R are logical, integer, numeric (real or decimal), complex, and character. A logical vector is one in which all of the values are TRUE, FALSE, and NA. An integer vector contains only integers, a real vector contains only reals, etc. If a vector contains more than one type of value, the vector and each element of it is coerced to the most general class in the vector.</p>
<p>Let’s start by creating each vector in Table 1.1. To assign values to a vector, use the assignment operator <code>&lt;-</code> and the concatenate or combine function <code>c()</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="chp1.html#cb1-1"></a>observation_number &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">13</span>) </span>
<span id="cb1-2"><a href="chp1.html#cb1-2"></a><span class="co"># The colon tells R to create a sequence from 1 to 13 by 1.  This a vector of integers.</span></span>
<span id="cb1-3"><a href="chp1.html#cb1-3"></a>name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Homer&quot;</span>, <span class="st">&quot;Marge&quot;</span>, <span class="st">&quot;Lisa&quot;</span>, <span class="st">&quot;Bart&quot;</span>, <span class="st">&quot;Comic Book Guy&quot;</span>, <span class="st">&quot;Mr. Burns&quot;</span>,</span>
<span id="cb1-4"><a href="chp1.html#cb1-4"></a>          <span class="st">&quot;Smithers&quot;</span>, <span class="st">&quot;Chief Wiggum&quot;</span>, <span class="st">&quot;Principle Skinner&quot;</span>, <span class="st">&quot;Rev. Lovejoy&quot;</span>,</span>
<span id="cb1-5"><a href="chp1.html#cb1-5"></a>          <span class="st">&quot;Ned Flanders&quot;</span>, <span class="st">&quot;Patty&quot;</span>, <span class="st">&quot;Selma&quot;</span>)</span>
<span id="cb1-6"><a href="chp1.html#cb1-6"></a><span class="co"># Each &quot;string&quot; is enclosed in quotes.  This is a character vector.</span></span>
<span id="cb1-7"><a href="chp1.html#cb1-7"></a>donuts_per_week &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">14</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">20</span>, <span class="fl">0.75</span>, <span class="fl">0.25</span>, <span class="dv">16</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="fl">0.8</span>, <span class="dv">5</span>, <span class="dv">4</span>) </span>
<span id="cb1-8"><a href="chp1.html#cb1-8"></a><span class="co"># This is a numeric vector.</span></span>
<span id="cb1-9"><a href="chp1.html#cb1-9"></a>weight &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">275</span>, <span class="dv">141</span>, <span class="dv">70</span>, <span class="dv">75</span>, <span class="dv">310</span>, <span class="dv">80</span>, <span class="dv">160</span>, <span class="dv">263</span>, <span class="dv">205</span>, <span class="dv">185</span>, <span class="dv">170</span>, <span class="dv">155</span>, <span class="dv">145</span>) </span>
<span id="cb1-10"><a href="chp1.html#cb1-10"></a><span class="co"># This is a numeric vector.</span></span></code></pre></div>
<p>To help you understand what’s going on in the above chunk, think about what the code is doing like this: <em>assign the numbers 1 through 13 to an object name <code>observation_number</code></em>.</p>
<p>Note in the code chunk above that the symbol, #, is used to create comments within the code. Those things set off by the # will not be executed as code. These are useful for creating notes to yourself or collaborators about what you are doing with certain lines of code.</p>
<p>We now have four named vectors that we can put into a data frame. A note on naming conventions in R. While there are many name conventions in R, I recommend using snake case where each word is separated by an under score and no capital letters are used. See <a href="http://adv-r.had.co.nz/Style.html">Hadley Wickhams Style Guide</a> for style suggestions for all parts of R programming, not just variable names. Following these guidelines will make your code easier to read and edit.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="chp1.html#cb2-1"></a><span class="kw">library</span>(tidyverse) </span>
<span id="cb2-2"><a href="chp1.html#cb2-2"></a><span class="co"># load the tidyverse package</span></span>
<span id="cb2-3"><a href="chp1.html#cb2-3"></a>donuts &lt;-<span class="st"> </span><span class="kw">tibble</span>(observation_number, name, donuts_per_week, weight) </span>
<span id="cb2-4"><a href="chp1.html#cb2-4"></a><span class="co"># create the donuts tibble</span></span>
<span id="cb2-5"><a href="chp1.html#cb2-5"></a><span class="kw">save</span>(donuts, <span class="dt">file =</span> <span class="st">&quot;donuts.RData&quot;</span>)</span>
<span id="cb2-6"><a href="chp1.html#cb2-6"></a><span class="co"># save the data frame as R Data</span></span></code></pre></div>
<p>A tibble is an update to the traditional data frame. For most of what we will do, it will act the same as a data frame. The two main differences in data frames and tibbles are printing and subsetting. For more on tibbles type <code>vignette("tibble")</code> in the console.</p>
<p>The <code>tidyverse</code> is an opinionated collection of R packages that share an underlying philosophy, grammar, and data structures.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>(<a href="https://www.tidyverse.org/" class="uri">https://www.tidyverse.org/</a>).</p>
<div id="packages" class="section level4">
<h4><span class="header-section-number">3.1.1.1</span> Packages</h4>
<p>An R package is shareable bundle of code, data, documentation, tests, etc. To use a package, it must first be installed and then be loaded. To install a package, call <code>install.packages("package_name")</code><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. To make use of a package, load it by calling <code>library(packagename)</code><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>. Currently there are more than 16,000 packages available, to see the packages visit <a href="https://cran.r-project.org/web/packages/">Contributed Packages</a>. <a href="https://cran.r-project.org/web/views/">CRAN Task Views</a> shows relevant packages by task. You may want to visit <a href="https://cran.r-project.org/web/views/Econometrics.html">CRAN Task View: Econometrics</a> to see the extensive array of packages for use in econometrics.</p>
<p>The <code>tidyverse</code> package is a collection of packages that share an underlying design philosophy, grammar, and data structures. For more on the tidyverse follow this <a href="https://www.tidyverse.org">link</a>. The <code>dplyr</code> package loaded below is a grammar of data manipulation that can be used to solve most data manipulation problems.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="chp1.html#cb3-1"></a><span class="co"># Print the tibble to the console by typing its name.</span></span>
<span id="cb3-2"><a href="chp1.html#cb3-2"></a>donuts</span></code></pre></div>
<pre><code># A tibble: 13 x 4
   observation_number name              donuts_per_week weight
                &lt;int&gt; &lt;chr&gt;                       &lt;dbl&gt;  &lt;dbl&gt;
 1                  1 Homer                       14       275
 2                  2 Marge                        0       141
 3                  3 Lisa                         0        70
 4                  4 Bart                         5        75
 5                  5 Comic Book Guy              20       310
 6                  6 Mr. Burns                    0.75     80
 7                  7 Smithers                     0.25    160
 8                  8 Chief Wiggum                16       263
 9                  9 Principle Skinner            3       205
10                 10 Rev. Lovejoy                 2       185
11                 11 Ned Flanders                 0.8     170
12                 12 Patty                        5       155
13                 13 Selma                        4       145</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="chp1.html#cb5-1"></a><span class="co"># glimpse will provide information about the data frame, its observations, variables, and their class.</span></span>
<span id="cb5-2"><a href="chp1.html#cb5-2"></a>dplyr<span class="op">::</span><span class="kw">glimpse</span>(donuts)</span></code></pre></div>
<pre><code>Rows: 13
Columns: 4
$ observation_number &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13
$ name               &lt;chr&gt; &quot;Homer&quot;, &quot;Marge&quot;, &quot;Lisa&quot;, &quot;Bart&quot;, &quot;Comic Book Gu...
$ donuts_per_week    &lt;dbl&gt; 14.00, 0.00, 0.00, 5.00, 20.00, 0.75, 0.25, 16.0...
$ weight             &lt;dbl&gt; 275, 141, 70, 75, 310, 80, 160, 263, 205, 185, 1...</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="chp1.html#cb7-1"></a><span class="co"># using a package name with :: allows you to use the package without loading it</span></span>
<span id="cb7-2"><a href="chp1.html#cb7-2"></a><span class="co"># it also makes clear the package a command comes from</span></span></code></pre></div>
<p>We can reproduce Table 1.1 with the <code>kable</code> function in <code>knitr</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="chp1.html#cb8-1"></a>knitr<span class="op">::</span><span class="kw">kable</span>(donuts, </span>
<span id="cb8-2"><a href="chp1.html#cb8-2"></a>             <span class="dt">caption =</span> <span class="st">&#39;Table 1.1 Donut Consumption and Weight&#39;</span>, </span>
<span id="cb8-3"><a href="chp1.html#cb8-3"></a>             <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">&quot;Observation&lt;/br&gt; number&quot;</span>, </span>
<span id="cb8-4"><a href="chp1.html#cb8-4"></a>                           <span class="co"># &lt;/br&gt; is html code to insert a line break</span></span>
<span id="cb8-5"><a href="chp1.html#cb8-5"></a>                           <span class="st">&quot;Name&quot;</span>, <span class="st">&quot;Donuts&lt;/br&gt; per week&quot;</span>,</span>
<span id="cb8-6"><a href="chp1.html#cb8-6"></a>                           <span class="st">&quot;Weight&lt;/br&gt; (pounds)&quot;</span>), </span>
<span id="cb8-7"><a href="chp1.html#cb8-7"></a>             <span class="dt">escape =</span> F,  <span class="co"># necessary to force the line breaks</span></span>
<span id="cb8-8"><a href="chp1.html#cb8-8"></a>             <span class="dt">align =</span> <span class="st">&#39;cccc&#39;</span>) <span class="co"># request that the four columns be centered</span></span></code></pre></div>
<table>
<caption><span id="tab:kable-table">Table 3.1: </span>Table 1.1 Donut Consumption and Weight</caption>
<thead>
<tr class="header">
<th align="center">Observation</br> number</th>
<th align="center">Name</th>
<th align="center">Donuts</br> per week</th>
<th align="center">Weight</br> (pounds)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">Homer</td>
<td align="center">14.00</td>
<td align="center">275</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">Marge</td>
<td align="center">0.00</td>
<td align="center">141</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">Lisa</td>
<td align="center">0.00</td>
<td align="center">70</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">Bart</td>
<td align="center">5.00</td>
<td align="center">75</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">Comic Book Guy</td>
<td align="center">20.00</td>
<td align="center">310</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">Mr. Burns</td>
<td align="center">0.75</td>
<td align="center">80</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">Smithers</td>
<td align="center">0.25</td>
<td align="center">160</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">Chief Wiggum</td>
<td align="center">16.00</td>
<td align="center">263</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">Principle Skinner</td>
<td align="center">3.00</td>
<td align="center">205</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">Rev. Lovejoy</td>
<td align="center">2.00</td>
<td align="center">185</td>
</tr>
<tr class="odd">
<td align="center">11</td>
<td align="center">Ned Flanders</td>
<td align="center">0.80</td>
<td align="center">170</td>
</tr>
<tr class="even">
<td align="center">12</td>
<td align="center">Patty</td>
<td align="center">5.00</td>
<td align="center">155</td>
</tr>
<tr class="odd">
<td align="center">13</td>
<td align="center">Selma</td>
<td align="center">4.00</td>
<td align="center">145</td>
</tr>
</tbody>
</table>
<p>Or we can create an interactive table with the <code>DT</code> package.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="chp1.html#cb9-1"></a>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb9-2"><a href="chp1.html#cb9-2"></a><span class="st">  </span>DT<span class="op">::</span><span class="kw">datatable</span>(<span class="dt">caption =</span> <span class="st">&#39;Table 1.1 Donut Consumption and Weight&#39;</span>)</span></code></pre></div>
<div id="htmlwidget-fc5e2ca0dc64ff3b85da" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-fc5e2ca0dc64ff3b85da">{"x":{"filter":"none","caption":"<caption>Table 1.1 Donut Consumption and Weight<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13"],[1,2,3,4,5,6,7,8,9,10,11,12,13],["Homer","Marge","Lisa","Bart","Comic Book Guy","Mr. Burns","Smithers","Chief Wiggum","Principle Skinner","Rev. Lovejoy","Ned Flanders","Patty","Selma"],[14,0,0,5,20,0.75,0.25,16,3,2,0.8,5,4],[275,141,70,75,310,80,160,263,205,185,170,155,145]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>observation_number<\/th>\n      <th>name<\/th>\n      <th>donuts_per_week<\/th>\n      <th>weight<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="figure-1.2" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Figure 1.2</h3>
<p>To create Figure 1.2 we will use the <a href="https://ggplot2.tidyverse.org/">ggplot2</a> package. <code>ggplot2</code>, also part of the <code>tidyverse</code>, is a system for declarative creating graphics, based on <a href="https://www.springer.com/in/book/9780387245447">The Grammar of Graphics</a>. The Grammar of Graphics is built on two principles. First, graphics are built with distinct layers of grammatical elements. Second, meaningful plots are formed through aesthetic mappings.</p>
<p>Seven elements comprise the grammar of graphics: data, aesthetics, geometries, facets, statistics, coordinates, and themes. Every graphic must contain, at a minimum, data, aesthetics, and geometries. Data, typically a data frame or tibble, is the data set being plotted. Aesthetics are the scales onto which data are mapped. Aesthetics include x-axis, y-axis, color, fill, size, labels, alpha (transparency), shape, line width, and line type. Geometries are how we want the data plotted, <em>e.g.</em>, as points, lines, bars, histograms, boxplots, etc. Facets allow us to create multiple plots by a characteristic or categorical variable, statistics allow us to add elements like error bands, regression lines, etc. Coordinates allow us to control the space into which we plot the data. Finally, themes are all non-data ink in a graphic.</p>
<p>Follow this link for an overview of <a href="https://ggplot2.tidyverse.org">ggplot2</a>. The Learning ggplot2 section points to three useful places to learn more about using ggplot2. While the use of data visualization is not emphasized in the econometrics, understanding the basic principles will help your data analysis.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="chp1.html#cb10-1"></a>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb10-2"><a href="chp1.html#cb10-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> donuts, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> donuts_per_week, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb10-3"><a href="chp1.html#cb10-3"></a><span class="co"># map donuts per week onto the x-axis and weight on the y-axis</span></span>
<span id="cb10-4"><a href="chp1.html#cb10-4"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="bailey_files/figure-html/figure1-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="chp1.html#cb11-1"></a><span class="co"># Add the geometry that creates the scatter plot</span></span></code></pre></div>
<p>We introduced <code>%&gt;%</code> in the above chunk (it is loaded as part of the <code>tidyverse</code>). <code>%&gt;%</code>, the pipe operator inserts the argument before the pipe as the first argument into the subsequent function call. We can parse the above line of code in English as “Use the <code>donuts</code> data and then create a ggplot with the aesthetics…” Since the first argument in most function calls in R is data, this will make writing code easier and more readable because it avoids excessive nesting in function calls. For example, suppose we have a vector <code>y</code> that we would like to call the functions <code>f</code>, <code>g</code> and <code>h</code> on in turn. We could write the code in two ways:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="chp1.html#cb12-1"></a><span class="co"># nested</span></span>
<span id="cb12-2"><a href="chp1.html#cb12-2"></a><span class="kw">g</span>(<span class="kw">h</span>(<span class="kw">f</span>(y)))</span>
<span id="cb12-3"><a href="chp1.html#cb12-3"></a><span class="co"># or with  %&gt;% </span></span>
<span id="cb12-4"><a href="chp1.html#cb12-4"></a>y <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-5"><a href="chp1.html#cb12-5"></a><span class="st">  </span><span class="kw">f</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-6"><a href="chp1.html#cb12-6"></a><span class="st">  </span><span class="kw">g</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-7"><a href="chp1.html#cb12-7"></a><span class="st">  </span><span class="kw">h</span>()</span></code></pre></div>
<p>Each is equivalent, but the second is easier to read as a human.</p>
<p>This basic plot can be transformed into the figure in the text by adding layers to the graphic to change its appearance.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="chp1.html#cb13-1"></a><span class="co"># start with the original graphic</span></span>
<span id="cb13-2"><a href="chp1.html#cb13-2"></a></span>
<span id="cb13-3"><a href="chp1.html#cb13-3"></a>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-4"><a href="chp1.html#cb13-4"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> donuts, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> donuts_per_week, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-5"><a href="chp1.html#cb13-5"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-6"><a href="chp1.html#cb13-6"></a><span class="co"># add axis labels and a caption </span></span>
<span id="cb13-7"><a href="chp1.html#cb13-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Donuts&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Weight (in pounds)&quot;</span>, </span>
<span id="cb13-8"><a href="chp1.html#cb13-8"></a>       <span class="dt">caption =</span> <span class="st">&quot;Figure 1.2: Weight and Donuts in Springfield&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-9"><a href="chp1.html#cb13-9"></a><span class="co"># add a vertical line</span></span>
<span id="cb13-10"><a href="chp1.html#cb13-10"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">size =</span> <span class="fl">1.25</span>)</span></code></pre></div>
<p><img src="bailey_files/figure-html/fig1-2-1-1.png" width="672" /></p>
<p>The vertical line is in front of the points so will re-arrange the geometries.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="chp1.html#cb14-1"></a>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-2"><a href="chp1.html#cb14-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> donuts, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> donuts_per_week, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb14-3"><a href="chp1.html#cb14-3"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">size =</span> <span class="fl">1.25</span>) <span class="op">+</span></span>
<span id="cb14-4"><a href="chp1.html#cb14-4"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb14-5"><a href="chp1.html#cb14-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Donuts&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Weight (in pounds)&quot;</span>, </span>
<span id="cb14-6"><a href="chp1.html#cb14-6"></a>       <span class="dt">caption =</span> <span class="st">&quot;Figure 1.2: Weight and Donuts in Springfield&quot;</span>)</span></code></pre></div>
<p><img src="bailey_files/figure-html/fig1-2-2-1.png" width="672" /></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="chp1.html#cb15-1"></a>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-2"><a href="chp1.html#cb15-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> donuts, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> donuts_per_week, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb15-3"><a href="chp1.html#cb15-3"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">size =</span> <span class="fl">1.25</span>) <span class="op">+</span></span>
<span id="cb15-4"><a href="chp1.html#cb15-4"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb15-5"><a href="chp1.html#cb15-5"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Donuts&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Weight (in pounds)&quot;</span>, </span>
<span id="cb15-6"><a href="chp1.html#cb15-6"></a>       <span class="dt">caption =</span> <span class="st">&quot;Figure 1.2: Weight and Donuts in Springfield&quot;</span>) <span class="op">+</span></span>
<span id="cb15-7"><a href="chp1.html#cb15-7"></a><span class="co"># Add the name labels by mapping the string name onto label</span></span>
<span id="cb15-8"><a href="chp1.html#cb15-8"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> name))</span></code></pre></div>
<p><img src="bailey_files/figure-html/fig1-2-3-1.png" width="672" />
The names are not in aesthetically pleasing positions. The <code>ggrepel</code> package “cleans” up labels in <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="chp1.html#cb16-1"></a><span class="co"># Clean up the name labels with the ggrepel package</span></span>
<span id="cb16-2"><a href="chp1.html#cb16-2"></a><span class="kw">library</span>(ggrepel)</span>
<span id="cb16-3"><a href="chp1.html#cb16-3"></a>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-4"><a href="chp1.html#cb16-4"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> donuts, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> donuts_per_week, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb16-5"><a href="chp1.html#cb16-5"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">size =</span> <span class="fl">1.25</span>) <span class="op">+</span></span>
<span id="cb16-6"><a href="chp1.html#cb16-6"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb16-7"><a href="chp1.html#cb16-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Donuts&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Weight (in pounds)&quot;</span>, </span>
<span id="cb16-8"><a href="chp1.html#cb16-8"></a>       <span class="dt">caption =</span> <span class="st">&quot;Figure 1.2: Weight and Donuts in Springfield&quot;</span>) <span class="op">+</span></span>
<span id="cb16-9"><a href="chp1.html#cb16-9"></a><span class="co"># Add the name labels by mapping the string name onto label</span></span>
<span id="cb16-10"><a href="chp1.html#cb16-10"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> name))</span></code></pre></div>
<p><img src="bailey_files/figure-html/fig1-2-4-1.png" width="672" /></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="chp1.html#cb17-1"></a><span class="co"># Use theme to adjust the non data elements</span></span>
<span id="cb17-2"><a href="chp1.html#cb17-2"></a><span class="co"># \n in the y label creates a new line</span></span>
<span id="cb17-3"><a href="chp1.html#cb17-3"></a>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-4"><a href="chp1.html#cb17-4"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">data =</span> donuts, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> donuts_per_week, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb17-5"><a href="chp1.html#cb17-5"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">size =</span> <span class="fl">1.25</span>) <span class="op">+</span></span>
<span id="cb17-6"><a href="chp1.html#cb17-6"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb17-7"><a href="chp1.html#cb17-7"></a><span class="co"># change the y-axis so that is on 2 lines \n means &quot;new line&quot;</span></span>
<span id="cb17-8"><a href="chp1.html#cb17-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Donuts&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Weight</span><span class="ch">\n</span><span class="st">(in pounds)&quot;</span>, </span>
<span id="cb17-9"><a href="chp1.html#cb17-9"></a>       <span class="dt">caption =</span> <span class="st">&quot;Figure 1.2: Weight and Donuts in Springfield&quot;</span>) <span class="op">+</span></span>
<span id="cb17-10"><a href="chp1.html#cb17-10"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> name)) <span class="op">+</span></span>
<span id="cb17-11"><a href="chp1.html#cb17-11"></a><span class="co"># adjust some of the non-data ink or theme elements</span></span>
<span id="cb17-12"><a href="chp1.html#cb17-12"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>), <span class="co"># change orientation of y-axis label</span></span>
<span id="cb17-13"><a href="chp1.html#cb17-13"></a>          <span class="dt">panel.grid =</span> <span class="kw">element_blank</span>(), <span class="co"># remove the background grid</span></span>
<span id="cb17-14"><a href="chp1.html#cb17-14"></a>          <span class="dt">panel.background =</span> <span class="kw">element_blank</span>(), <span class="co"># remove the background</span></span>
<span id="cb17-15"><a href="chp1.html#cb17-15"></a>          <span class="dt">axis.line =</span> <span class="kw">element_line</span>(), <span class="co"># add x and y axes</span></span>
<span id="cb17-16"><a href="chp1.html#cb17-16"></a>          <span class="dt">plot.caption =</span> <span class="kw">element_text</span>(<span class="dt">hjust =</span> <span class="dv">0</span>)) <span class="co">#move the caption to the left.</span></span></code></pre></div>
<p><img src="bailey_files/figure-html/fig1-2-5-1.png" width="672" /></p>
<p>We can make the graph in one step and save it as an object <code>p</code> that we could add to later if we desire.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="chp1.html#cb18-1"></a>p &lt;-<span class="st"> </span></span>
<span id="cb18-2"><a href="chp1.html#cb18-2"></a><span class="st">  </span>donuts <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-3"><a href="chp1.html#cb18-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> donuts_per_week, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb18-4"><a href="chp1.html#cb18-4"></a><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb18-5"><a href="chp1.html#cb18-5"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb18-6"><a href="chp1.html#cb18-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Donuts&quot;</span>, </span>
<span id="cb18-7"><a href="chp1.html#cb18-7"></a>       <span class="dt">y =</span> <span class="st">&quot;Weight</span><span class="ch">\n</span><span class="st">(in pounds)&quot;</span>, <span class="co"># \n creates a new line</span></span>
<span id="cb18-8"><a href="chp1.html#cb18-8"></a>       <span class="dt">caption =</span> <span class="st">&quot;Figure 1.2: Weight and Donuts in Springfield&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb18-9"><a href="chp1.html#cb18-9"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> name)) <span class="op">+</span></span>
<span id="cb18-10"><a href="chp1.html#cb18-10"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>), </span>
<span id="cb18-11"><a href="chp1.html#cb18-11"></a>          <span class="dt">panel.grid =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb18-12"><a href="chp1.html#cb18-12"></a>          <span class="dt">panel.background =</span> <span class="kw">element_blank</span>(), </span>
<span id="cb18-13"><a href="chp1.html#cb18-13"></a>          <span class="dt">axis.line =</span> <span class="kw">element_line</span>(), </span>
<span id="cb18-14"><a href="chp1.html#cb18-14"></a>          <span class="dt">plot.caption =</span> <span class="kw">element_text</span>(<span class="dt">hjust =</span> <span class="dv">0</span>)) </span>
<span id="cb18-15"><a href="chp1.html#cb18-15"></a><span class="co"># print the graphic</span></span>
<span id="cb18-16"><a href="chp1.html#cb18-16"></a>p </span></code></pre></div>
<p><img src="bailey_files/figure-html/figure1.2%20again-1.png" width="672" /></p>
</div>
<div id="figure-1.3" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Figure 1.3</h3>
<p>To create Figure 1.3, we start with the plot above we saved as an object, p. We add an additional geometry, geom_smooth to add the regression line.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="chp1.html#cb19-1"></a>p <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-2"><a href="chp1.html#cb19-2"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">caption =</span> <span class="st">&quot;Figure 1.3: Regression Line for Weight and Donuts in Springfield&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-3"><a href="chp1.html#cb19-3"></a><span class="co"># method specifies the fit,  se = F turns off the error band.</span></span>
<span id="cb19-4"><a href="chp1.html#cb19-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> F) <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-5"><a href="chp1.html#cb19-5"></a><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">label =</span> <span class="kw">expression</span>(beta[<span class="dv">1</span>]<span class="op">*</span><span class="st">&quot; (the slope)&quot;</span>), <span class="co"># text annotation</span></span>
<span id="cb19-6"><a href="chp1.html#cb19-6"></a>           <span class="dt">y =</span> <span class="dv">205</span>, <span class="co"># position of the text</span></span>
<span id="cb19-7"><a href="chp1.html#cb19-7"></a>           <span class="dt">x =</span> <span class="dv">8</span>,   <span class="co"># position of the text</span></span>
<span id="cb19-8"><a href="chp1.html#cb19-8"></a>           <span class="dt">angle =</span> <span class="dv">20</span>, <span class="co"># angle of the text</span></span>
<span id="cb19-9"><a href="chp1.html#cb19-9"></a>           <span class="dt">color =</span> <span class="st">&quot;Blue&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co"># color of the text</span></span>
<span id="cb19-10"><a href="chp1.html#cb19-10"></a><span class="co"># create the dotted blue line on the y-axis</span></span>
<span id="cb19-11"><a href="chp1.html#cb19-11"></a><span class="st">  </span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">y =</span> <span class="fl">121.613</span>, <span class="dt">x =</span> <span class="dv">0</span>, <span class="dt">xend =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>),</span>
<span id="cb19-12"><a href="chp1.html#cb19-12"></a>               <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb19-13"><a href="chp1.html#cb19-13"></a>               <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>,</span>
<span id="cb19-14"><a href="chp1.html#cb19-14"></a>               <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-15"><a href="chp1.html#cb19-15"></a><span class="co"># add text to the graph</span></span>
<span id="cb19-16"><a href="chp1.html#cb19-16"></a><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">label =</span> <span class="kw">expression</span>(beta[<span class="dv">0</span>]<span class="op">*</span><span class="st">&quot; = 121.613&quot;</span>),</span>
<span id="cb19-17"><a href="chp1.html#cb19-17"></a>           <span class="dt">y =</span> <span class="dv">115</span>, <span class="dt">x =</span> <span class="fl">1.75</span>, <span class="dt">size =</span> <span class="fl">3.5</span>, <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="bailey_files/figure-html/figure1.3-1.png" width="672" /></p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Tidyverse<a href="chp1.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>You need install a package only once<a href="chp1.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>You must load the package during each R session to make use of it.<a href="chp1.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chp2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bailey.pdf", "bailey.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
